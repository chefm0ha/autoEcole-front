<form #drivingSchoolForm="ngForm"
      (ngSubmit)="onSubmit()"
      [gutter]="3"
      [validated]="customStylesValidated"
      novalidate
      cForm cRow
      class="needs-validation p-4 bg-white rounded shadow-sm"
      style="width: 99%; margin: 0 auto;">

  <c-col [md]="4">
    <label cLabel for="sexe">Sexe *</label>
    <select cSelect id="sexe" name="sexe" required [(ngModel)]="candidat.sex">
      <option value="">Choisir...</option>
      <option value="homme">Homme</option>
      <option value="femme">Femme</option>
    </select>
    <c-form-feedback [valid]="false">Veuillez sélectionner votre sexe.</c-form-feedback>
  </c-col>

  <c-col [md]="4">
    <label cLabel for="categoriePermis">Catégorie permis *</label>
    <select cSelect id="categoriePermis" name="categoriePermis" required [(ngModel)]="candidat.category">
      <option value="">Choisir...</option>
      <option value="A1">A1 - Moto légère</option>
      <option value="A2">A2 - Moto intermédiaire</option>
      <option value="A">A - Moto</option>
      <option value="B">B - Voiture</option>
      <option value="BE">BE - Voiture + remorque</option>
      <option value="C">C - Poids lourd</option>
      <option value="CE">CE - Poids lourd + remorque</option>
      <option value="D">D - Transport en commun</option>
    </select>
    <c-form-feedback [valid]="false">Veuillez sélectionner une catégorie de permis.</c-form-feedback>
  </c-col>

  <c-col [md]="4">
    <label cLabel for="cin">CIN *</label>
    <input cFormControl id="cin" name="cin" type="text" placeholder="Numéro CIN" required [(ngModel)]="candidat.cin" />
    <c-form-feedback [valid]="false">Veuillez saisir votre numéro CIN.</c-form-feedback>
  </c-col>

  <c-col [md]="6">
    <label cLabel for="nom">Nom *</label>
    <input cFormControl id="nom" name="nom" type="text" required [(ngModel)]="candidat.lastName" />
    <c-form-feedback [valid]="false">Veuillez saisir votre nom.</c-form-feedback>
  </c-col>

  <c-col [md]="6">
    <label cLabel for="prenom">Prénom *</label>
    <input cFormControl id="prenom" name="prenom" type="text" required [(ngModel)]="candidat.firstName" />
    <c-form-feedback [valid]="false">Veuillez saisir votre prénom.</c-form-feedback>
  </c-col>

  <c-col [md]="6">
    <label cLabel for="dateNaissance">Date de naissance *</label>
    <input cFormControl id="dateNaissance" name="dateNaissance" type="date" required [ngModel]="candidat.birthday | date:'yyyy-MM-dd'" (ngModelChange)="candidat.birthday = $event"
              [value]="candidat.birthday | date:'yyyy-MM-dd'" #birthday="ngModel" />
    <c-form-feedback [valid]="false">Veuillez saisir votre date de naissance.</c-form-feedback>
  </c-col>

  <c-col [md]="6">
    <label cLabel for="lieuNaissance">Lieu de naissance</label>
    <input cFormControl id="lieuNaissance" name="lieuNaissance" type="text" [(ngModel)]="candidat.placeBirth" />
  </c-col>

  <c-col [md]="8">
    <label cLabel for="adresse">Adresse</label>
    <input cFormControl id="adresse" name="adresse" type="text" [(ngModel)]="candidat.adress" />
  </c-col>

  <c-col [md]="4">
    <label cLabel for="ville">Ville</label>
    <input cFormControl id="ville" name="ville" type="text" [(ngModel)]="candidat.city" />
  </c-col>

  <c-col [md]="6">
    <label cLabel for="email">Email</label>
    <c-input-group>
      <span cInputGroupText>mail</span>
      <input cFormControl id="email" name="email" type="email" [(ngModel)]="candidat.email" />
    </c-input-group>
  </c-col>

  <c-col [md]="6">
    <label cLabel for="telephone">Téléphone *</label>
    <c-input-group>
      <span cInputGroupText>Tel</span>
      <input cFormControl id="telephone" name="telephone" type="tel" required [(ngModel)]="candidat.gsm" />
    </c-input-group>
    <c-form-feedback [valid]="false">Veuillez saisir votre numéro de téléphone.</c-form-feedback>
  </c-col>

  <c-col [md]="3">
    <label cLabel for="vehicule">Véhicule</label>
    <select cSelect id="vehicule" name="vehicule">
      <option value="">Choisir un véhicule...</option>
      <option value="voiture_essence">Voiture essence</option>
      <option value="voiture_diesel">Voiture diesel</option>
      <option value="voiture_electrique">Voiture électrique</option>
      <option value="moto_125">Moto 125cc</option>
      <option value="moto_600">Moto 600cc</option>
      <option value="poids_lourd">Poids lourd</option>
    </select>
  </c-col>

  <c-col [md]="3">
    <label cLabel for="moniteur">Moniteur</label>
    <select cSelect id="moniteur" name="moniteur" >
      <option value="">Choisir un moniteur...</option>
      <option value="martin_dupont">Martin Dupont</option>
      <option value="sophie_bernard">Sophie Bernard</option>
      <option value="jean_moreau">Jean Moreau</option>
      <option value="marie_petit">Marie Petit</option>
    </select>
  </c-col>

    <!-- Date d'entrée -->
  <c-col [md]="3">
    <label cLabel for="dateEntree">Date d'entrée</label>
    <input cFormControl id="dateEntree" name="dateEntree" type="date" [ngModel]="candidat.startingDate | date:'yyyy-MM-dd'" (ngModelChange)="candidat.startingDate = $event"
            [value]="candidat.startingDate | date:'yyyy-MM-dd'" />
  </c-col>

  <!-- Prix -->
  <c-col [md]="3">
    <label cLabel for="prix">Prix</label>
    <c-input-group>
      <span cInputGroupText>€</span>
      <input cFormControl id="prix" name="prix" type="number" step="0.01" placeholder="Prix..." [(ngModel)]="candidat.initialPrice" />
    </c-input-group>
  </c-col>

  <c-col [xs]="12" class="mt-3">
    <button cButton class="me-2" color="primary" type="submit">Enregistrer</button>
    <button (click)="onReset()" cButton color="secondary" type="reset">Réinitialiser</button>
  </c-col>
</form>
